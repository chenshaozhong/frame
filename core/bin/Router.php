<?phpnamespace core\bin;/** * Effect: * FileName: Router.php * Created by PhpStorm * Author: Charon <chensz@adsit.cn> * Date: 2015/11/16 * Time: 15:39 */ class Router{     static public function url($action , $method , $param = array())     {         $url = 'http';         $uri = '';         if (isset($_SERVER['HTTPS']) &&  $_SERVER["HTTPS"] == "on")         {             $url .= "s";         }         $url .= "://";         if ($_SERVER["SERVER_PORT"] <> "80")         {             $url .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"];         }else{             $url .= $_SERVER["SERVER_NAME"];         }         if(array_key_exists('PHP_SELF' , $_SERVER))         {             $uri = $_SERVER['PHP_SELF'];         }         $pre = trim(dirname($url.$uri),'/').'/'.$action.'/'.$method.'.'.config('Router.suffix');         return  $param ? $pre.'?'.http_build_query($param) : $pre;     }     static public function run(&$c , &$m)     {         if( ! array_key_exists('REQUEST_URI' , $_SERVER) OR strpos($_SERVER['REQUEST_URI'],'.'.config('Router.suffix')) == false)         {             $c = config('DEFAULT_CONTROLLER');             $m = config('DEFAULT_ACTION');         }else{             $self =  trim(trim(strpos($_SERVER['REQUEST_URI'] , '?') ? strstr($_SERVER['REQUEST_URI'] , '?' , true) : $_SERVER['REQUEST_URI'] , config('Router.suffix')) , '.');             $arr = explode('/' , $self);             krsort($arr);             $c = $arr[count($arr)-2];             $m = $arr[count($arr)-1];         }     } }